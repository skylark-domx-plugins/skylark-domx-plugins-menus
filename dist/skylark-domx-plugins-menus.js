/**
 * skylark-domx-plugins-menus - The skylark menu plugin library.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-plugins-menus/
 * @license MIT
 */
!function(e,n){var t=n.define,require=n.require,s="function"==typeof t&&t.amd,r=!s&&"undefined"!=typeof exports;if(!s&&!t){var i={};t=n.define=function(e,n,t){"function"==typeof t?(i[e]={factory:t,deps:n.map(function(n){return function(e,n){if("."!==e[0])return e;var t=n.split("/"),s=e.split("/");t.pop();for(var r=0;r<s.length;r++)"."!=s[r]&&(".."==s[r]?t.pop():t.push(s[r]));return t.join("/")}(n,e)}),resolved:!1,exports:null},require(e)):i[e]={factory:null,resolved:!0,exports:t}},require=n.require=function(e){if(!i.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=i[e];if(!module.resolved){var t=[];module.deps.forEach(function(e){t.push(require(e))}),module.exports=module.factory.apply(n,t)||null,module.resolved=!0}return module.exports}}if(!t)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-domx-plugins-menus/menus",["skylark-langx/skylark"],function(e){return e.attach("domx.plugins.menus")}),e("skylark-domx-plugins-menus/menu",["skylark-langx/langx","skylark-domx-query","skylark-domx-lists","skylark-domx-plugins-base","./menus"],function(e,n,t,s,r){"use strict";var i=s.Plugin.inherit({klassName:"Menu",pluginName:"lark.menus.menu",options:{template:"",classes:{base:"lark-menu"},selectors:{container:null},item:{templates:{general:'<li class="menu-item"><a href="#" class="link"><%= title %></a></li>',separator:"",hasChildren:'<li class="menu-item hasChildren"><a href="#" class="link"><%= title %></a><ul class="submenu"></ul>'},classes:{base:"menu-item",hasChildren:"hasChildren"}},children:{template:"<ul></ul>",classes:{base:"submenu"},selector:"> .submenu"},data:{},onAction:null},_construct:function(e,t){s.Plugin.prototype._construct.call(this,e,t),this._$container=this.$(this.options.selectors.container),this.options.onAction&&this.listenTo(this._$container,"click",`.${this.options.item.classes.base}`,e=>{var t=n(e.currentTarget).data("item");this.options.onAction(t)})},renderMenuItemHtml:function(n){if(!this._renderItemHtml){let n=this.options.item.template;e.isString(n)?this._renderItemHtml=e.template(n):e.isFunction(n)&&(this._renderItemHtml=n)}return this._renderItemHtml(n)},renderGeneralMenuItem:function(t){if(!this._renderGeneralItemHtml){let n=this.options.item.templates.general;e.isString(n)?this._renderGeneralItemHtml=e.template(n):e.isFunction(n)&&(this._renderGeneralItemHtml=n)}return n(this._renderGeneralItemHtml(t))},renderHasChildrenMenuItem:function(t){if(!this._renderHasChildrenItemHtml){let n=this.options.item.templates.hasChildren;e.isString(n)?this._renderHasChildrenItemHtml=e.template(n):e.isFunction(n)&&(this._renderHasChildrenItemHtml=n)}return n(this._renderHasChildrenItemHtml(t))}});return s.register(i),r.Menu=i}),e("skylark-domx-plugins-menus/accordion-menu",["skylark-langx/langx","skylark-domx-query","skylark-domx-lists","skylark-domx-plugins-base","./menus","./menu"],function(e,n,t,s,r,i){"use strict";var l=i.inherit({klassName:"AccordionMenu",pluginName:"lark.menus.accordion",_construct:function(n,s){i.prototype._construct.call(this,n,s),t.multitier(n,e.mixin({togglable:!0},this.options))}});return s.register(l),r.AccordionMenu=l}),e("skylark-domx-plugins-menus/cascade-menu",["skylark-langx/langx","skylark-domx-query","skylark-domx-lists","skylark-domx-plugins-base","./menus","./menu"],function(e,n,t,s,r,i){"use strict";var l=i.inherit({klassName:"CascadeMenu",pluginName:"lark.menus.cascade",_construct:function(n,s){i.prototype._construct.call(this,n,s),t.multitier(n,e.mixin({togglable:!0},this.options))}});return s.register(l),r.CascadeMenu=l}),e("skylark-domx-plugins-menus/nav-menu",["skylark-langx/langx","skylark-domx-query","skylark-domx-lists","skylark-domx-plugins-base","./menus","./menu"],function(e,n,t,s,r,i){"use strict";var l=i.inherit({klassName:"NavMenu",pluginName:"lark.menus.nav",options:{item:{templates:{}}},_construct:function(n,s){i.prototype._construct.call(this,n,s),this.options.data.items&&this.resetItems(this.options.data.items),t.multitier(n,e.mixin({},this.options))},resetItems:function(e){let n=this;let t=this.$(this.options.selectors.container);e.forEach(e=>{!function e(t,s){let r;r=t.children?n.renderHasChildrenMenuItem(t):n.renderGeneralMenuItem(t);r.data("item",t);s.append(r);if(t.children){let s=r.find(n.options.children.selector);t.children.forEach(n=>{e(n,s)})}}(e,t)})}});return s.register(l),r.NavMenu=l}),e("skylark-domx-plugins-menus/tree-menu",["skylark-langx/langx","skylark-domx-query","skylark-domx-lists","skylark-domx-plugins-base","./menus","./menu","skylark-domx-plugins-toggles"],function(e,n,t,s,r,i){"use strict";var l=i.inherit({klassName:"Tree",pluginName:"lark.menus.tree",_construct:function(n,s){i.prototype._construct.call(this,n,s),t.multitier(n,e.mixin({hide:function(e){e.plugin("lark.toggles.collapse").hide()},toggle:function(e){e.plugin("lark.toggles.collapse").toggle()}},this.options))}});return s.register(l),r.TreeMenu=l}),e("skylark-domx-plugins-menus/main",["./menus","./accordion-menu","./cascade-menu","./nav-menu","./tree-menu"],function(e){return e}),e("skylark-domx-plugins-menus",["skylark-domx-plugins-menus/main"],function(e){return e})}(t),!s){var l=require("skylark-langx-ns");r?module.exports=l:n.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins-menus.js.map
